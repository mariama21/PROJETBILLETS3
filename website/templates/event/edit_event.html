{% extends "base.html" %}

{% block title %}Éditer un Événement{% endblock %}

{% block content %}
<div class="container">
    <h3 class="mt-4 mb-4">Éditer un Événement</h3>

    <form method="POST" class="needs-validation" novalidate>
        <!-- Informations générales -->
        <fieldset>
            <legend>Informations générales</legend>
            <div class="mb-3">
                <label for="nom_event" class="form-label">Nom de l'événement :</label>
                <input type="text" class="form-control" id="nom_event" name="nom_event" value="{{ event.nom_event }}" required>
                <div class="invalid-feedback">Ce champ est requis.</div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="statut" class="form-label">Statut :</label>
                    <select class="form-select" id="statut" name="statut" required>
                        <option value="Actif" {% if event.statut == 'Actif' %}selected{% endif %}>Actif</option>
                        <option value="Passif" {% if event.statut == 'Passif' %}selected{% endif %}>Passif</option>
                    </select>
                    <div class="invalid-feedback">Ce champ est requis.</div>
                </div>
                <div class="col-md-6">
                    <label for="alias_event" class="form-label">Alias de l'événement :</label>
                    <input type="text" class="form-control" id="alias_event" name="alias_event" value="{{ event.alias_event }}">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="date_debut" class="form-label">Date de début :</label>
                    <input type="datetime-local" class="form-control" id="date_debut" name="date_debut" value="{% if event.date_debut %}{{ event.date_debut.strftime('%Y-%m-%dT%H:%M') }}{% endif %}" required>
                    <div class="invalid-feedback">Ce champ est requis.</div>
                </div>
                <div class="col-md-6">
                    <label for="date_fin" class="form-label">Date de fin :</label>
                    <input type="datetime-local" class="form-control" id="date_fin" name="date_fin" value="{% if event.date_fin %}{{ event.date_fin.strftime('%Y-%m-%dT%H:%M') }}{% endif %}" required>
                    <div class="invalid-feedback">Ce champ est requis.</div>
                </div>
            </div>
        </fieldset>

        <!-- Description et adresse -->
        <fieldset>
            <legend>Description et adresse</legend>
            <div class="mb-3">
                <label for="categorie" class="form-label">Catégorie :</label>
                <input type="text" class="form-control" id="categorie" name="categorie" value="{{ event.categorie }}" required>
                <div class="invalid-feedback">Ce champ est requis.</div>
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">Description :</label>
                <textarea class="form-control" id="description" name="description" rows="5" required>{{ event.description }}</textarea>
                <div class="invalid-feedback">Ce champ est requis.</div>
            </div>

            <div class="mb-3">
                <label for="adresse_rue" class="form-label">Adresse (rue) :</label>
                <input type="text" class="form-control" id="adresse_rue" name="adresse_rue" value="{{ event.adresse_rue }}">
            </div>

            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="adresse_cp" class="form-label">Code postal :</label>
                    <input type="text" class="form-control" id="adresse_cp" name="adresse_cp" value="{{ event.adresse_cp }}">
                </div>
                <div class="col-md-4">
                    <label for="adresse_ville" class="form-label">Ville :</label>
                    <input type="text" class="form-control" id="adresse_ville" name="adresse_ville" value="{{ event.adresse_ville }}">
                </div>
                <div class="col-md-4">
                    <label for="adresse_pays" class="form-label">Pays :</label>
                    <input type="text" class="form-control" id="adresse_pays" name="adresse_pays" value="{{ event.adresse_pays }}">
                </div>
            </div>
        </fieldset>

        <!-- Autres informations -->
        <fieldset>
            <legend>Autres informations</legend>
            <div class="mb-3">
                <label for="uuid_event" class="form-label">UUID de l'événement :</label>
                <input type="text" class="form-control" id="uuid_event" name="uuid_event" value="{{ event.uuid_event }}">
            </div>

            <div class="mb-3 form-check form-switch">
                <input class="form-check-input" type="checkbox" id="Actif" name="Actif" {% if event.Actif %}checked{% endif %}>
                <label class="form-check-label" for="Actif">Actif</label>
            </div>

            <div class="mb-3">
                <label for="Type" class="form-label">Type :</label>
                <input type="text" class="form-control" id="Type" name="Type" value="{{ event.Type }}">
            </div>
        </fieldset>

        <!-- Bouton Enregistrer -->
        <div class="text-center mt-4">
            <button type="submit" class="btn btn-primary btn-lg">Enregistrer</button>
        </div>
    </form>
</div>
{% endblock %}
